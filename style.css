/* [ê¸°ë³¸ ì„¤ì •] */
* { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

:root {
    --primary-blue: #1e7df0;
    --sky-blue: #00b0ff;
    --text-dark: #333;
    --text-gray: #666;
    --bg-gray: #f2f2f2; /* ë°°ê²½ìƒ‰ */
    --title-bg: #e9ecef;
    /* Pastel Banner Colors */
    --b-green: #a5d6a7; --b-yellow: #fff59d; --b-orange: #ffcc80;
    --b-blue: #90caf9; --b-purple: #ce93d8; --b-teal: #80cbc4;
    --b-brown: #bcaaa4; --b-lime: #e6ee9c; --b-sky: #81d4fa; --b-gold: #ffe082;
}
body { 
    margin: 0; padding: 0; 
    font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif; 
    background-color: var(--bg-gray); 
    height: 100vh; 
    height: 100dvh; 
    overflow: hidden; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
}
/* [ì•± ì»¨í…Œì´ë„ˆ] */
#app-container {
    width: 1200px; 
    height: 800px; 
    background: white; 
    border-radius: 12px; 
    box-shadow: 0 4px 20px rgba(0,0,0,0.1); 
    display: flex; 
    flex-direction: column; 
    overflow: hidden; 
    position: relative; 
}
/* [í—¤ë” & íƒ­] */
header {
    height: 60px; 
    border-bottom: 3px solid #3b82f6; 
    display: flex; 
    align-items: center; 
    padding: 0 30px; 
    justify-content: space-between; 
    background: white; 
    z-index: 10; 
    flex-shrink: 0; 
    display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ (ì¸íŠ¸ë¡œ ë•Œë¬¸) */
}
.logo { font-size: 24px; font-weight: bold; color: #374151; }
.logo span { color: #2563eb; }
.file-info { color: #9ca3af; font-size: 14px; }
.tabs {
    display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ (ì¸íŠ¸ë¡œ ë•Œë¬¸) */
    background-color: #f3f4f6; 
    padding: 10px 30px 0; 
    border-bottom: 1px solid #e5e7eb; 
    gap: 5px; 
    flex-shrink: 0; 
}
.tab-btn {
    padding: 12px 25px; 
    border-radius: 12px 12px 0 0; 
    border: none; 
    cursor: pointer; 
    font-weight: bold; 
    display: flex; 
    align-items: center; 
    gap: 8px; 
    opacity: 0.7; 
    transition: all 0.2s; 
    transform: translateY(5px); 
    font-size: 16px; 
    background-color: #e5e7eb;  /* ì—°í•œ íšŒìƒ‰ ë°°ê²½ */
    color: #9ca3af;
}
.tab-btn.active { opacity: 1; transform: translateY(0); box-shadow: 0 -2px 5px rgba(0,0,0,0.05); }
/* ì–´íœ˜ë‘ í™œì„± (ë³´ë¼) */
.tab-btn.tab-vocab.active {
    background-color: #9333ea; 
    color: white;
}

/* ì½ê¸°ë‘ í™œì„± (íŒŒë‘) */
.tab-btn.tab-read.active {
    background-color: #3b82f6; 
    color: white;
}

/* êµ¬ì¡°ë‘ í™œì„± (ë‚¨ìƒ‰) */
.tab-btn.tab-structure.active {
    background-color: #4f46e5; 
    color: white;
}

/* ì“°ê¸°ë‘ í™œì„± (í•‘í¬/ìì£¼) */
.tab-btn.tab-write.active {
    background-color: #c026d3; 
    color: white;
}
/* [ì½˜í…ì¸  ê³µí†µ] */
.content-area {
    flex-grow: 1; 
    position: relative; 
    overflow: hidden; 
    background-color: transparent; 
    padding-bottom: 0; 
    display: flex; 
    flex-direction: column; 
}
/* [style.css ë§¨ ì•„ë˜ì— ì¶”ê°€ ë˜ëŠ” ìˆ˜ì •] */

/* ëª¨ë“  í™”ë©´ì„ ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì´ê²Œ ì„¤ì • (í˜ì´ì§€ê°€ ë‚˜ë‰˜ì—ˆìœ¼ë¯€ë¡œ) */
.screen {
    display: flex; /* ê¸°ë³¸ê°’ */
    width: 100%;
    height: 100%;
    position: relative;
    animation: fadeIn 0.3s ease-out;
    flex-direction: column;
    padding-bottom: 0 !important;
}

/* ì•„ë˜ ë‚´ìš©ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ */
body:not(.is-intro):not(.is-outro) header,
body:not(.is-intro):not(.is-outro) .tabs,
body:not(.is-intro):not(.is-outro) .nav-controls {
    display: flex !important;
}

.center-wrapper {
    width: 100%; 
    max-width: 1200px; 
    margin: 0 auto; 
    flex-grow: 1; 
    display: flex; 
    flex-direction: column; 
    position: relative; 
    padding-bottom: 100px; 
}
/* [ëŒ€ì§€ì‹œë¬¸ ë°°ë„ˆ - ìŠ¤íƒ€ì¼ í†µì¼] */
.instruction-banner {
    background-color: #16a34a; 
    color: white; 
    padding: 15px 30px; 
    margin: 20px 30px 10px; 
    border-radius: 15px; 
    display: flex; 
    align-items: center; 
    gap: 12px; 
    box-shadow: 0 4px 6px rgba(0,0,0,0.1); 
    font-size: 20px; 
    flex-shrink: 0; 
    font-weight: bold; 
}
.sub-badge {
    background-color: rgba(255,255,255,0.2); 
    padding: 5px 12px; 
    border-radius: 20px; 
    font-size: 14px; 
    display: flex; 
    align-items: center; 
    gap: 5px; 
    margin-left: auto; 
}
/* [í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜] */
.nav-controls {
    position: absolute; 
    bottom: 30px; 
    left: 30px; 
    right: 30px; 
    display: flex; 
    justify-content: space-between; 
    pointer-events: none; 
    z-index: 50; 
}
.nav-btn {
    width: 60px; 
    height: 60px; 
    border-radius: 50%; 
    background-color: #facc15; 
    border: none; 
    box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
    cursor: pointer; 
    pointer-events: auto; 
    display: flex; 
    justify-content: center; 
    align-items: center; 
    transition: all 0.2s; 
}
.nav-btn:hover { transform: scale(1.1); background-color: #fbbf24; }
.nav-btn:disabled {
    background-color: #e5e7eb; 
    color: #9ca3af; 
    cursor: not-allowed; 
    transform: none; 
    box-shadow: none; 
}
/* [í˜ì´ì§€ í‘œì‹œ ì ] */
.dots-indicator {
    background: transparent; 
    padding: 10px 25px; 
    border-radius: 30px; 
    display: flex; 
    gap: 12px; 
    border: none; 
    pointer-events: auto; 
    align-items: center; 
    box-shadow: none; 
    position: relative; 
    top: 20px; 
}
.dot { 
    width: 14px; height: 14px; 
    border-radius: 50%; 
    background-color: #d1d5db; 
    transition: background-color 0.3s; 
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); 
}
.dot.active { background-color: #ef4444; }

/* [í™”ë©´ ìŠ¤íƒ€ì¼: ì¸íŠ¸ë¡œ] */
.intro-bg {
    background-image: url('imgs/intro.png'); 
    background-size: cover; 
    background-position: center; 
    background-repeat: no-repeat; 
    flex-direction: column; 
    justify-content: center; 
    align-items: center; 
    position: absolute; top: 0; left: 0; height: 100%; width: 100%; 
}
.book-layout-container { width: 1000px; height: 500px; display: flex; position: relative; margin-bottom: 20px; }
.book-left-page { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding-right: 20px; }
.book-right-page { flex: 1; }
.intro-badge { background-color: #fde047; color: #111; padding: 10px 30px; border-radius: 30px; font-size: 20px; font-weight: 800; margin-bottom: 35px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.intro-main-title { color: #1f2937; font-size: 45px; font-weight: 900; text-align: center; line-height: 1.3; letter-spacing: -1px; text-shadow: none; }
.intro-top-text { position: absolute; top: 25px; left: 30px; font-size: 22px; color: #ffffff; font-weight: bold; z-index: 20; }
.start-btn { background-color: transparent; border: none; box-shadow: none; padding: 0; color: transparent; background-image: url('imgs/btn_start.png'); background-size: contain; background-repeat: no-repeat; background-position: center; width: 300px; height: 90px; cursor: pointer; transition: transform 0.2s; }
.start-btn:hover { transform: scale(1.05); background-color: transparent; }
/* [í™”ë©´ ìŠ¤íƒ€ì¼: ì•„ì›ƒíŠ¸ë¡œ] */
.outro-bg { background: linear-gradient(135deg, #dbeafe 0%, #eff6ff 100%); justify-content: center; align-items: center; text-align: center; position: absolute; top: 0; left: 0; height: 100%; }
.outro-icon { font-size: 100px; margin-bottom: 20px; animation: bounce 2s infinite; }
.outro-title { font-size: 48px; font-weight: 900; color: #1e40af; margin-bottom: 20px; }
.outro-desc { font-size: 24px; color: #374151; margin-bottom: 50px; }
.replay-btn { background-color: #f59e0b; color: white; font-size: 24px; font-weight: bold; padding: 15px 50px; border-radius: 40px; border: none; cursor: pointer; box-shadow: 0 10px 20px rgba(245, 158, 11, 0.3); transition: transform 0.2s; display: flex; align-items: center; gap: 10px; }
.replay-btn:hover { transform: scale(1.05); }
/* [ì–´íœ˜ë‘] */
#vocab-screen { background-image: url('imgs/back6.png'); background-size: cover; background-position: center; background-repeat: no-repeat; }
.vocab-container { padding: 0 40px; flex-grow: 1; display: flex; align-items: center; justify-content: center; gap: 20px; }
.header-star-wrapper { position: absolute; top: 0px; right: 0; width: auto; display: flex; gap: 8px; z-index: 10; }
.header-star-img { width: 30px; height: 30px; object-fit: contain; }
.vocab-card { background: #fce7f3; border: 5px solid #f45d8b; border-radius: 40px; padding: 20px 40px; width: 100%; max-width: 900px; box-shadow: 0 20px 40px rgba(0,0,0,0.08); display: flex; flex-direction: column; position: relative; margin-bottom: 30px; margin-top: 40px; }
.vocab-arrow-btn { background: #3b82f6; border: none; cursor: pointer; color: white; transition: transform 0.2s; padding: 15px; border-radius: 50%; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.vocab-arrow-btn:hover { transform: scale(1.1); }
.vocab-arrow-btn:disabled { background: #e5e7eb; color: #9ca3af; cursor: not-allowed; transform: none; box-shadow: none; }
.vocab-main-title { text-align: center; font-size: 60px; font-weight: 900; color: #1f2937; margin-bottom: 5px; }
.hanja-box { background: transparent; padding: 5px; display: flex; justify-content: center; align-items: center; gap: 20px; margin-bottom: 15px; }
.hanja-item { display: flex; align-items: center; gap: 10px; font-size: 32px; color: #4b5563; }
.hanja-reveal { background-color: #3b82f6; color: white; padding: 5px 20px; border-radius: 10px; cursor: pointer; transition: 0.3s; min-width: 80px; text-align: center; font-size: 20px; }
.hanja-reveal.revealed { background-color: #dbeafe; color: #1e40af; font-weight: bold; }
.vocab-bottom-layout { display: flex; gap: 30px; border: 3px dashed #fda4af; border-radius: 20px; padding: 20px; background-color: #fff7ed; align-items: center; width: 100%; }
.vocab-img-placeholder { width: 240px; height: 180px; background: white; border-radius: 15px; border: 2px solid #fed7aa; display: flex; justify-content: center; align-items: center; overflow: hidden; flex-shrink: 0; }
.vocab-text-area { flex-grow: 1; display: flex; flex-direction: column; gap: 15px; justify-content: center; overflow: hidden; }
.vocab-row { display: flex; align-items: center; gap: 20px; } 
.vocab-label { background-color: #374151; color: white; padding: 8px 0; border-radius: 10px; font-weight: bold; font-size: 20px; width: 80px; text-align: center; flex-shrink: 0; }
.vocab-label.ex { background-color: #374151; }
.vocab-desc { font-size: 20px; color: #374151; font-weight: 500; line-height: 1.5; display: flex; align-items: center; gap: 10px; flex-wrap: nowrap; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.highlight-word { color: #2563eb; font-weight: 900; }
.speaker-img-btn { width: 32px; height: 32px; cursor: pointer; vertical-align: middle; transition: transform 0.2s; margin: 4px 8px; }
.speaker-img-btn:hover { transform: scale(1.2); }
.vocab-next-arrow, .vocab-prev-arrow { position: absolute; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; color: #1ca7a0; transition: transform 0.2s; z-index: 20; padding: 0; }
.vocab-next-arrow svg, .vocab-prev-arrow svg { width: 70px; height: 70px; stroke-width: 4px; }
.vocab-next-arrow { right: -80px; }
.vocab-prev-arrow { left: -80px; }
.vocab-next-arrow:hover, .vocab-prev-arrow:hover { transform: translateY(-50%) scale(1.1); }

/* ì½ê¸°ë‘ */
#read-screen { background-image: url('imgs/bg3.png'); background-size: cover; background-position: center; background-repeat: no-repeat; }
.reading-layout { padding: 0 40px; flex-grow: 1; display: flex; justify-content: center; align-items: center; }
.text-container {
    width: 100%;
    max-width: 1250px;
    height: 500px;
    border-radius: 30px;
    border: 5px solid #93c5fd;
    padding: 50px;
    
    /* ì¤„ ê°„ê²© ê°€ë…ì„± ì¢‹ê²Œ ì¡°ì • */
    line-height: 1.2;
    
    font-size: 20px;
    color: #374151;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
    overflow-y: auto;
    
    /* [í•µì‹¬ ìˆ˜ì •] ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ì—¬ê¸°ì— ì§ì ‘ ë„£ìœ¼ì„¸ìš”! (íˆ¬ëª… X) */
    background-color: white; /* ì´ë¯¸ì§€ê°€ ì—†ì„ ë•Œë¥¼ ëŒ€ë¹„í•œ í°ìƒ‰ */
    background-image: none; 
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    
    position: relative;
    /* z-index ê´€ë ¨ ì½”ë“œëŠ” ì´ì œ í•„ìš” ì—†ìŠµë‹ˆë‹¤ */
    -ms-overflow-style: none; /* IE, Edge */
    scrollbar-width: none;    /* Firefox */
}
.text-container::-webkit-scrollbar {display: none;}
.passage-image-wrapper { float: right; width: 350px; height: auto; margin: -40px 0 20px 40px; position: relative; z-index: 10; shape-outside: circle(50%); display: block; }
.passage-image { width: 100%; max-height: 250px; border-radius: 50%; object-fit: cover; mask-image: radial-gradient(circle, rgba(0,0,0,1) 40%, rgba(0,0,0,0) 70%);
    -webkit-mask-image: radial-gradient(circle, rgba(0,0,0,1) 40%, rgba(0,0,0,0) 70%);}
.read-done-btn { width: 200px; height: 53px; padding: 0; display: flex; justify-content: center; align-items: center; margin: 50px auto 0; background-color: #2563eb; color: white; border: none; border-radius: 40px; font-size: 20px; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3); transition: 0.2s; clear: both; }
.read-done-btn:hover { background-color: #1d4ed8; transform: translateY(-2px); }
.key-sentence-bubble { display: none; position: relative; background-color: #fffbeb; border: 3px solid #fcd34d; border-radius: 50px; padding: 30px; margin: 30px auto 0; width: 90%; max-width: 1000px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); animation: popUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
.key-sentence-bubble::after { content: ''; position: absolute; top: -15px; left: 50%; transform: translateX(-50%); border-width: 0 15px 15px; border-style: solid; border-color: #fcd34d transparent; display: block; width: 0; }
.key-icon-circle { background: #fbbf24; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; justify-content: center; align-items: center; flex-shrink: 0; }
@keyframes popUp { from { opacity: 0; transform: translateY(-20px) scale(0.9); } to { opacity: 1; transform: translateY(0) scale(1); } }
/* í€´ì¦ˆ */
/* ==========================================================
   [ìµœì¢… ìˆ˜ì •] 1:1 ë¹„ìœ¨ ë° ë””ìì¸ ë³µêµ¬ (ì§€ë¬¸ ë°•ìŠ¤ í¬í•¨)
   ========================================================== */
        .quiz-container { width: 100%; max-width: 1100px; margin: 0 auto; display: flex; gap: 15px; padding: 0; height: 100%; max-height: 500px; min-height: 450px; }
        .passage-preview { width: 40%; background: #f9fafb; padding: 30px; border-radius: 20px; overflow-y: auto; font-size: 16px; line-height: 1.8; color: #6b7280; border: 5px solid #bfdbfe; scrollbar-width: none; -ms-overflow-style: none; }
        .passage-preview::-webkit-scrollbar { display: none; }
        .question-area { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        .question-box { background: white; padding: 40px; border-radius: 20px; border: 5px solid #bfdbfe; box-shadow: 0 10px 20px rgba(0,0,0,0.05); flex-grow: 1; display: flex; flex-direction: column; overflow-y: auto; scrollbar-width: none; 
    -ms-overflow-style: none; 
 }
         .question-box::-webkit-scrollbar {
    display: none;
}
        .q-tag { background: #2563eb; color: white; display: inline-block; padding: 8px 20px; border-radius: 20px; font-size: 16px; font-weight: bold; align-self: flex-start; margin-bottom: 20px; flex-shrink: 0; }
        .q-text { font-size: 20px; font-weight: bold; margin-bottom: 20px; color: #1f2937; line-height: 1.4; flex-shrink: 0; }
        .option-list { display: flex; flex-direction: column; gap: 10px; flex-grow: 0; }
        .option-item { padding: 15px; border: 2px solid #e5e7eb; border-radius: 15px; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 15px; font-size: 10px; }
        .option-item:hover { background: #f3f4f6; border-color: #cbd5e1; }
        .option-item.selected { border-color: #2563eb; background: #eff6ff; color: #1e40af; font-weight: bold; }
        .option-item.correct { border-color: #16a34a; background: #dcfce7; color: #166534; }
        .option-item.wrong { border-color: #ef4444; background: #fee2e2; color: #991b1b; animation: shake 0.5s ease-in-out; }
        .explanation-box { background: #eff6ff; padding: 25px; border-radius: 15px; margin-top: 30px; border: 2px solid #bfdbfe; display: none; font-size: 18px; line-height: 1.6; }
        .explanation-box.show { display: block; animation: fadeIn 0.3s; }

/* [êµ¬ì¡°ë‘ - ë¦¬ë‰´ì–¼ ìŠ¤íƒ€ì¼] */
.structure-layout { padding: 0 40px 120px; height: calc(100% - 100px); display: flex; flex-direction: column; gap: 30px; }
.structure-intro-bg { background-image: url('imgs/back3.png'); background-size: cover; background-position: center; background-repeat: no-repeat; padding: 40px; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; position: relative; }
.structure-title-banner { background: #a855f7; color: white; padding: 15px 40px; border-radius: 30px; font-size: 20px; font-weight: bold; margin-bottom: 40px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
.structure-card { background: white; border: 5px solid #374151; border-radius: 40px; padding: 50px 80px; text-align: left; position: relative; max-width: 800px; width: 100%; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
.structure-card-header { position: absolute; top: -25px; left: 50%; transform: translateX(-50%); background: #374151; color: #facc15; padding: 10px 30px; border-radius: 25px; font-weight: bold; font-size: 18px; display: flex; align-items: center; gap: 10px; }
.structure-main-title { font-size: 48px; font-weight: 900; color: #1e3a8a; margin: 30px 0 40px; text-align: center; }
.structure-list { display: flex; flex-direction: column; gap: 20px; }
.structure-item { display: flex; align-items: center; gap: 15px; font-size: 22px; color: #374151; }
.structure-badge { background: #f97316; color: white; padding: 5px 15px; border-radius: 15px; font-size: 16px; font-weight: bold; }
.structure-start-btn { margin-top: 50px; background: #2563eb; color: white; padding: 15px 60px; border-radius: 30px; font-size: 24px; font-weight: bold; border: none; cursor: pointer; box-shadow: 0 10px 20px rgba(37, 99, 235, 0.3); transition: transform 0.2s; }
.structure-start-btn:hover { transform: scale(1.05); }
.formula-box { margin: 5px 40px 10px; display: flex; align-items: center; gap: 10px; font-size: 18px; color: #374151; font-weight: bold; }
.formula-tag { background: #374151; color: #facc15; padding: 5px 15px; border-radius: 20px; display: flex; align-items: center; gap: 5px; }
.formula-sub-tag { background: #f97316; color: white; padding: 2px 10px; border-radius: 10px; font-size: 14px; }
/* Step 1: ê°œë… í•™ìŠµ (ê³ ì •í˜• & ìŠ¤í¬ë¡¤ ë°©ì§€) */
.concept-container { 
    padding: 0 40px 100px; 
    display: flex; 
    flex-direction: column; 
    gap: 20px; 
    height: 100%; 
    overflow: hidden; /* [ìˆ˜ì •] ìŠ¤í¬ë¡¤ ë°©ì§€ */
}
.definition-row { display: flex; gap: 20px; align-items: stretch; height: 100px; min-height: 100px; }
.def-label { background: #e5e7eb; width: 140px; border-radius: 15px; display: flex; justify-content: center; align-items: center; font-size: 24px; font-weight: 800; color: #374151; flex-shrink: 0; }
.def-content { flex: 1; background: #fff7ed; border: 3px solid #fed7aa; border-radius: 15px; display: flex; align-items: center; padding: 0 30px; cursor: pointer; position: relative; overflow: hidden; }
.def-text { font-size: 20px; line-height: 1.5; color: #374151; font-weight: bold; display: none; width: 100%; }
.def-placeholder { font-size: 30px; color: #f97316; font-weight: 900; width: 100%; text-align: center; }

.example-section { display: flex; gap: 20px; flex: 1; min-height: 250px; margin-bottom: 20px; }
.ex-label-vertical { background: #e5e7eb; width: 140px; border-radius: 15px; display: flex; justify-content: center; align-items: center; font-size: 24px; font-weight: 800; color: #374151; flex-shrink: 0; }
.ex-cards-grid { flex: 1; display: flex; gap: 20px; }
.ex-item { flex: 1; display: flex; flex-direction: column; gap: 10px; }
.ex-img-box { flex: 1; background: white; border-radius: 15px; overflow: hidden; border: 1px solid #ddd; display: flex; align-items: center; justify-content: center; position: relative; }
.ex-img-box img { width: 100%; height: 100%; object-fit: cover; padding: 0; }
.ex-answer-box { height: 70px; background: #fffbeb; border: 3px solid #fcd34d; border-radius: 15px; display: flex; justify-content: center; align-items: center; cursor: pointer; font-size: 18px; font-weight: 800; color: #1e3a8a; padding: 5px; text-align: center; word-break: keep-all; white-space: normal; }
.ex-answer-box.revealed { background: white; border-color: #4ade80; color: #15803d; }
/* Step 2: ë¹„êµí•˜ê¸° (ìŠ¤í¬ë¡¤ ì œê±° & ë†’ì´ ë§ì¶¤) */
.compare-grid-container { 
    padding: 0 40px 20px; /* í•˜ë‹¨ íŒ¨ë”© ì¡°ì • */
    height: 100%; 
    display: flex; 
    flex-direction: column; 
    overflow: visible; /* ë“œë¡­ë‹¤ìš´ì„ ìœ„í•´ visible ì„¤ì • */
}
.compare-header-row { display: flex; margin-bottom: 0px; margin-top: 10px; flex-shrink: 0; }
.ch-empty { width: 140px; }
.ch-char { flex: 1; display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 24px; font-weight: 900; color: #1f2937; }
.char-face { width: 60px; height: 60px; border-radius: 50%; background: #ddd; overflow: hidden; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
.char-face img { width: 100%; height: 100%; object-fit: cover; }
.compare-table-wrapper {
    flex: 1; /* ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
    display: flex; 
    flex-direction: column; 
    gap: 8px; 
    justify-content: flex-start; 
    padding-top: 5px;
}
.cp-row { 
    display: flex; 
    flex: 1; /* ë†’ì´ ê· ë“± ë¶„ë°° */
    min-height: 70px; /* ìµœì†Œ ë†’ì´ ë³´ì¥ */
    max-height: 70px; /* ë„ˆë¬´ ì»¤ì§€ì§€ ì•Šê²Œ ì œí•œ */
    position: relative; 
    z-index: 1; /* ê¸°ë³¸ z-index */
}

/* ë“œë¡­ë‹¤ìš´ì´ ì—´ë ¸ì„ ë•Œ í•´ë‹¹ í–‰ì„ ì•ìœ¼ë¡œ ê°€ì ¸ì˜´ */
.cp-row:has(.cp-dropdown-list.show) {
    z-index: 3000;
}
.cp-label { width: 140px; background: #e5e7eb; border-radius: 10px; margin-right: 5px; display: flex; justify-content: center; align-items: center; font-size: 18px; font-weight: 800; color: #374151; flex-shrink: 0; }
.cp-content { flex: 1; background: #fff7ed; border-radius: 10px; margin-right: 5px; display: flex; justify-content: center; align-items: center; font-size: 17px; font-weight: 600; text-align: center; border: 2px solid transparent; position: relative; }
.cp-content.yellow { background: #fef9c3; margin-right: 0; }
.cp-content.correct { background: #dcfce7; border-color: #22c55e; color: #15803d; }
.cp-dropdown-btn { width: 100%; height: 100%; border: none; background: transparent; cursor: pointer; font-size: 24px; font-weight: bold; color: #9ca3af; }

.cp-dropdown-list {
position: absolute; top: 100%; left: 0; width: 100%; 
    background: white; border: 2px solid #3b82f6; border-radius: 8px; 
    z-index: 50; display: none; box-shadow: 0 4px 10px rgba(0,0,0,0.2); 
    max-height: 200px; overflow-y: auto; 
}

/* ìœ„ìª½ìœ¼ë¡œ ì—´ë¦¬ëŠ” ë“œë¡­ë‹¤ìš´ */
.cp-dropdown-list.drop-up {
    top: auto; 
    bottom: 100%; 
}
.cp-dropdown-list.show { display: block; }
.cp-option { padding: 12px; border-bottom: 1px solid #eee; cursor: pointer; font-size: 15px; color: #333; text-align: left; }
.cp-option:hover { background: #eff6ff; }

/* Step 3: ë¬¸ì¥ ì°¾ê¸° */
.text-selection-area { padding: 0 40px 20px; display: flex; flex-direction: column; height: 100%; overflow-y: hidden; }
.target-banner { background: #ffedd5; border: 2px solid #fb923c; border-radius: 30px; padding: 10px 30px; align-self: center; margin-bottom: 20px; display: flex; gap: 20px; align-items: center; }
.target-text { font-size: 20px; font-weight: 900; color: #9a3412; }
.target-badge { background: #8b5cf6; color: white; padding: 4px 12px; border-radius: 15px; font-size: 14px; font-weight: bold; }
.passage-box { background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 15px; padding: 30px; font-size: 20px; line-height: 2.2; color: #374151; overflow-y: auto; flex: 1; margin-bottom: 40px; }


/* [ì“°ê¸°ë‘ - ë””ìì¸ ìˆ˜ì •] */
.writing-container { padding: 0 40px; height: 100%; position: relative; display: flex; flex-direction: column; justify-content: center; }
.writing-layout-box { display: flex; flex-direction: row; align-items: flex-start; justify-content: center; gap: 20px; width: 100%; margin-bottom: 0px; }
.writing-card { background: white; border: 5px solid #F29AAE; border-radius: 30px; padding: 40px; width: 1050px; height: 450px; box-shadow: 0 20px 40px rgba(0,0,0,0.08); display: flex; flex-direction: column; position: relative; flex-shrink: 0; }
.writing-side-buttons { display: flex; flex-direction: column; gap: 15px; margin-top: 10px; }
.circle-btn { width: 60px; height: 60px; border-radius: 50%; border: none; cursor: pointer; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold; font-size: 14px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.2s; }
.circle-btn:hover { transform: scale(1.1); }
.circle-btn.orange { background-color: #FFFFFF; border: 2px solid #C47BE4; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); }
.circle-btn.green { background-color: #FFFFFF; border: 2px solid #7132CA; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); }
.writing-input { flex-grow: 1; border: none; font-size: 24px; line-height: 1.8; color: #374151; outline: none; resize: none; font-family: 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif; }
.writing-input::placeholder { color: #d1d5db; font-weight: normal; }
.writing-input:focus::placeholder { color: transparent; }
.done-btn-container { display: flex; justify-content: center; width: 100%; margin-top: 20px; margin-bottom: 50px; pointer-events: auto; }
#vocab-done-container { position: absolute; top: 100%; margin-top: -20px; transform: translateX(300px); }
.writing-done-btn { background-color: transparent; border: none; box-shadow: none; color: transparent; padding: 0; width: 200px; height: 53px; background-image: url('imgs/btn_active.png'); background-size: contain; background-repeat: no-repeat; background-position: center; cursor: pointer; transition: transform 0.2s; pointer-events: auto; }
.writing-done-btn:disabled { background-image: url('imgs/btn_disabled.png'); cursor: not-allowed; transform: none !important; }
.writing-done-btn:not(:disabled):hover { transform: scale(1.05); }
.writing-done-btn:not(:disabled):active { transform: scale(0.95); }

/* íŒì—… ëª¨ë‹¬ */
.modal-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 100; display: none; justify-content: center; align-items: center; }
.modal-overlay.active { display: flex; }
.modal-box { background: white; width: 700px; max-height: 80%; padding: 40px; border-radius: 25px; overflow-y: auto; position: relative; box-shadow: 0 25px 50px rgba(0,0,0,0.25); }
.close-modal { position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 30px; cursor: pointer; color: #9ca3af; }

/* ì“°ê¸°ë‘ ë°°ê²½ */
#write-screen { background-image: url('imgs/bg2.png'); background-size: cover; background-position: center; background-repeat: no-repeat; }


/* ==========================================================
   [ìµœì¢… í•´ê²°] ì–´íœ˜ë‘ 2ë‹¨ê³„ (ê²Œì„) - ì „ì²´ í™”ë©´ ê½‰ ì±„ìš°ê¸°
   ========================================================== */

/* 1. í™”ë©´ ì „ì²´ íŒ¨ë”© ê°•ì œ ì œê±° (ì´ê²Œ ì—†ìœ¼ë©´ í° í…Œë‘ë¦¬ ìƒê¹€) */
#screen-vocab {
    padding: 0 !important;
    width: 100%;
    height: 100%;
}

/* 2. ê²Œì„ ë ˆì´ì•„ì›ƒ (ìƒˆë¡œ ë§Œë“  í´ë˜ìŠ¤) */
.game-layout {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;

    background-color: #fff;

/* ë°°ê²½ ì´ë¯¸ì§€ë¥¼ ë¶€ëª¨ì¸ ì—¬ê¸°ë¡œ ì´ë™ */
    background: url('imgs/scene_background.png') center bottom no-repeat; 
    background-size: cover; 
    position: relative; /* ë§ˆìŠ¤í¬ ìœ„ì¹˜ ê¸°ì¤€ì  */
}

/* [ì¶”ê°€] ì „ì²´ í™”ë©´ì„ ë®ëŠ” ë°˜íˆ¬ëª… í°ìƒ‰ ë§ˆìŠ¤í¬ */
.game-layout::before {
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(255, 255, 255, 0.1); 
    z-index: 1; /* ë°°ê²½ ë°”ë¡œ ìœ„ */
    pointer-events: none;
}

/* 3. ìƒë‹¨ ë°°ë„ˆ */
.game-layout .instruction-banner {
    width: 90%;
    margin: 20px auto 10px auto; 
    flex-shrink: 0;
    z-index: 10;
    position: relative;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

/* 4. ê²Œì„ ë°°ê²½ (ì—¬ë°± ì—†ì´ 100% ì±„ìš°ê¸°) */
.scene-container { 
    position: relative; 
    flex: 1; /* ë‚¨ì€ ê³µê°„ ëª¨ë‘ ì°¨ì§€ */
    width: 100%;
    margin: 0; /* ì—¬ë°± ì œê±° */
    
    background: none;
    overflow: hidden;
    z-index: 5;

}

/* 5. ë¬¸ì œ í…ìŠ¤íŠ¸ ìƒì */
#quiz-text-overlay { 
    position: absolute; 
    top: 60px; /* ìœ„ì—ì„œë¶€í„° ê±°ë¦¬ */
    left: 50%; 
    transform: translateX(-50%); 
    z-index: 20; /* ë§ˆìŠ¤í¬ë³´ë‹¤ ìœ„ */
    
    background-color: rgba(255, 255, 255, 0.95);
    padding: 15px 50px; 
    border-radius: 50px; 
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15); 
    border: 3px solid #4dd0e1;
    width: 800px;
    
    display: flex; align-items: center; justify-content: center;
}

.quiz-sentence {
    font-size: 32px; font-weight: 800; color: #333; margin: 0;
    display: flex; align-items: center; gap: 12px; white-space: nowrap;
}

/* ë¹ˆì¹¸ */
.blank-box { 
    display: inline-flex; justify-content: center; align-items: center;
    width: 120px; height: 50px; 
    border: 3px solid #333; border-radius: 12px; background: white; 
    font-size: 30px; font-weight: bold; color: #333; transition: all 0.3s; 
}
.blank-box.correct { color: #fff; border-color: #00b894; background-color: #00b894; }

/* ğŸŒŸ [ìš”ì²­ 2] ìºë¦­í„° ìœ„ì¹˜ ì¡°ì • */
#learner, #monster { 
    position: absolute;
    width: 280px; 
    height: auto; 
    /* bottom ê°’ì„ ëŠ˜ë¦¬ë©´ ìœ„ë¡œ, ì¤„ë¦¬ë©´ ì•„ë˜ë¡œ ê°‘ë‹ˆë‹¤ */
    bottom: 140px; 
    z-index: 10; 
    transition: all 0.5s; 
}
#learner { left: 5%; } 
#monster { right: 5%; }

.char-default-size { animation: float-up-down 3s ease-in-out infinite; }
@keyframes float-up-down {
    0% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}
.char-attack-size { transform: scale(1.1); }

/* ì´í™íŠ¸ */
#effect { 
    position: absolute; width: 200px; height: auto;
    z-index: 20; opacity: 0; pointer-events: none;
    transform: translate(-50%, -50%); 
}

@keyframes attack-to-monster {
    0%   { opacity: 1; left: 20%; top: 60%; }
    100% { opacity: 0; left: 80%; top: 60%; }
}
@keyframes attack-to-learner {
    0%   { opacity: 1; left: 80%; top: 60%; }
    100% { opacity: 0; left: 20%; top: 60%; }
}

/* ğŸŒŸ [ìš”ì²­ 2] ë²„íŠ¼ ìœ„ì¹˜ ì¡°ì • */
#option-wrapper { 
    position: absolute; 
    /* bottom ê°’ì„ ëŠ˜ë¦¬ë©´ ë²„íŠ¼ì´ ìœ„ë¡œ ì˜¬ë¼ê°‘ë‹ˆë‹¤ */
    bottom: 60px; 
    left: 50%; 
    transform: translateX(-50%); 
    width: 90%; 
    display: flex; justify-content: center; gap: 20px;
    z-index: 30; 
}

.option-item { 
    padding: 12px 10px; font-size: 27px; font-weight: bold;
    border-radius: 50px; border: 4px solid white; 
    display: flex; align-items: center; gap: 10px;
    cursor: pointer; box-shadow: 0 6px 12px rgba(0,0,0,0.15); 
    transition: all 0.2s; background: white; width: 220px; justify-content: center; margin: 0 20px;
}
.option-item img { width: 32px; height: 32px; }

#option-ê°€ì¹˜ { background-color: white; color: #5d4037; }
#option-ë³´ì¡´ { background-color: white; color: #5d4037; }
#option-ë¬¸í™”ìœ ì‚° { background-color: white; color: #5d4037; }

.option-item:hover { transform: scale(1.05) translateY(-3px); border-color: #a000c8 }
.option-item.clicked { transform: scale(0.95); }
.option-item.correct-border { border-color: #00b894 !important; } 
.option-item.wrong-border { border-color: #ff5252 !important; } 

/* ì¹­ì°¬ ë„ì¥ */
#stamp-complete {
    position: absolute; top: auto; left: auto;
    transform: translate(-50%, -50%) scale(0.5); bottom: 110px; right: 50px;
    width: 140px; height: auto; opacity: 0; 
    transform: scale(1.5);
    transition: opacity 0.4s ease, transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    pointer-events: none; z-index: 100;
    filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3));
}

/* ì†ê°€ë½ ê°€ì´ë“œ */
#finger-guide {
    position: absolute; bottom: 30px; left: 50%;
    width: 50px; height: auto; opacity: 0; pointer-events: none; z-index: 55;
}
@keyframes finger-pulse {
    0%   { transform: scale(0.8); }
    50%  { transform: scale(1.1); }
    100% { transform: scale(0.8); }
}

/* ë„¤ë¹„ê²Œì´ì…˜ì´ ë°°ê²½ ìœ„ì— ëœ¨ë„ë¡ ì„¤ì • */
.nav-controls { z-index: 1000 !important; }

/* í•´ê²° ì½”ë“œ: ìŠ¤í… í™”ë©´ ê½‰ ì±„ìš°ê¸° */
#vocab-step-1 {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}

/* [ì¶”ê°€] ë‹«ê¸°(X) ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.close-app-btn {
    cursor: pointer;
    color: #9ca3af;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px; 
    height: 40px;
    border-radius: 50%;
    transition: all 0.2s;
    margin-left: 15px; /* íŒŒì¼ ì •ë³´ ì˜† ê°„ê²© */
}
.close-app-btn:hover {
    background-color: #f3f4f6;
    color: #ef4444; /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ë¹¨ê°„ìƒ‰ */
    transform: scale(1.1);
}

/* [ì¶”ê°€] ì•„ì›ƒíŠ¸ë¡œ ë²„íŠ¼ ê·¸ë£¹ ë ˆì´ì•„ì›ƒ */
.outro-btn-group {
    display: flex;           /* ê°€ë¡œ ë°°ì¹˜ */
    gap: 20px;               /* ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
    justify-content: center; /* ì¤‘ì•™ ì •ë ¬ */
    margin-top: 10px;        /* ìœ„ìª½ ì—¬ë°± */
}

/* [ì¶”ê°€] ì¢…ë£Œí•˜ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ (íšŒìƒ‰) */
.replay-btn.exit-btn {
    background-color: #6b7280; /* íšŒìƒ‰ */
    box-shadow: 0 10px 20px rgba(107, 114, 128, 0.3);
}

/* [ì¶”ê°€] ë‹¤ì‹œ í•™ìŠµí•˜ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ê¸°ë³¸ ì˜¤ë Œì§€ìƒ‰ ìœ ì§€ ë˜ëŠ” ë³€ê²½ ê°€ëŠ¥) */
.replay-btn.retry-btn {
    /* ê¸°ì¡´ replay-btn ìƒ‰ìƒ(#f59e0b)ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤. */
    /* ë§Œì•½ íŒŒë€ìƒ‰ìœ¼ë¡œ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ì„ í•´ì œí•˜ì„¸ìš”. */
    /* background-color: #3b82f6; */
    /* box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3); */


/* =========================================
   [ì¶”ê°€] ì¸íŠ¸ë¡œ ì‹œì‘ ë²„íŠ¼ ì• ë‹ˆë©”ì´ì…˜ (ë‘ê·¼ë‘ê·¼)
   ========================================= */

/* 1. ì• ë‹ˆë©”ì´ì…˜ ë™ì‘ ì •ì˜ (1ë°° -> 1.08ë°° -> 1ë°°) */
@keyframes pulse-btn {
    0% { transform: scale(1); }
    50% { transform: scale(1.08); } 
    100% { transform: scale(1); }
}

/* 2. .start-btn í´ë˜ìŠ¤ì— ì• ë‹ˆë©”ì´ì…˜ ì ìš© */
.start-btn {
    /* ê¸°ì¡´ ìŠ¤íƒ€ì¼ì€ ê·¸ëŒ€ë¡œ ë‘ê³ , ì•„ë˜ animation ì†ì„±ë§Œ ì¶”ê°€/ìˆ˜ì •ë¨ */
    animation: pulse-btn 1.5s infinite ease-in-out;
}

/* 3. ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ(hover)ëŠ” ë©ˆì¶”ê³  í™•ì‹¤í•˜ê²Œ ì»¤ì§„ ìƒíƒœ ìœ ì§€ */
.start-btn:hover {
    animation: none;       /* ì• ë‹ˆë©”ì´ì…˜ ë©ˆì¶¤ */
    transform: scale(1.1); /* 1.1ë°° í¬ê¸°ë¡œ ê³ ì • */
}
}

/* ==========================================================
   [3D ì±… í¼ì¹˜ê¸° ëª¨ì…˜] - ë°˜ ì ‘íŒ ì±…ì´ ì—´ë¦¬ëŠ” íš¨ê³¼
   ========================================================== */
/* ==========================================================
   [3D ì±… í‘œì§€ ì—´ê¸° ì• ë‹ˆë©”ì´ì…˜] - ìµœì¢… ìˆ˜ì •
   ========================================================== */

/* 1. ë¬´ëŒ€ ì„¤ì • (ì›ê·¼ê°) */
.book-stage {
    width: 1000px;
    height: 600px;
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 2000px; /* ì…ì²´ê° ê¹Šì´ */
    position: relative;
    transform: scale(0.9);
    margin-top: -30px; /* ì¤‘ì•™ ì •ë ¬ ë¯¸ì„¸ ì¡°ì • */
}

/* 2. ì±… ë³¸ì²´ ì»¨í…Œì´ë„ˆ */
.book-container {
    width: 450px;  /* í•œ í˜ì´ì§€ ë„ˆë¹„ */
    height: 550px; /* ì±… ë†’ì´ */
    position: relative;
    transform-style: preserve-3d;

/* [í•µì‹¬] ì±…ì´ ì—´ë¦¬ëŠ” ë™ì‹œì— ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ */
    animation: centerBook 1.8s cubic-bezier(0.25, 1, 0.5, 1) forwards;
    animation-delay: 1s; /* í‘œì§€ ì—´ë¦¬ëŠ” ëŒ€ê¸° ì‹œê°„ê³¼ ë™ì¼í•˜ê²Œ ì„¤ì • */
}

@keyframes centerBook {
    0% { 
        transform: translateX(0); /* ì²˜ìŒì—” ì œìë¦¬ (ë‹«íŒ ì±…ì´ í™”ë©´ ì¤‘ì•™) */
    }
    100% { 
        transform: translateX(225px); /* í¼ì³ì¡Œì„ ë•Œ, ì±… ë“±(Spine)ì´ í™”ë©´ ì¤‘ì•™ì— ì˜¤ë„ë¡ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ */
    }
}

/* 3. ì±… í˜ì´ì§€ ê³µí†µ ì„¤ì • */
.book-page {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 10px 20px 20px 10px; /* ì±… ëª¨ì–‘ */
    background-color: white;
    box-shadow: inset 5px 0 10px rgba(0,0,0,0.05); /* ì¢…ì´ ì§ˆê° ê·¸ë¦¼ì */
}

/* --- ì˜¤ë¥¸ìª½ í˜ì´ì§€ (ë°”ë‹¥ì— ê³ ì •ë¨) --- */
.right-page {
    z-index: 1;
    /* ì˜¤ë¥¸ìª½ í˜ì´ì§€ëŠ” ì²˜ìŒì— í‘œì§€ ë’¤ì— ìˆ¨ì–´ìˆì–´ì•¼ í•¨ */
    box-shadow: 20px 20px 30px rgba(0,0,0,0.3); /* ì „ì²´ ê·¸ë¦¼ì */
    border-left: 1px solid #eee; /* ì œë³¸ì„  */
}
.page-content.right-content {
    width: 100%; height: 100%;
    display: flex; justify-content: center; align-items: center;
    overflow: hidden;
    border-radius: 0 20px 20px 0;
}
.intro-illust {
    width: 100%; height: 100%; object-fit: cover;
}

/* --- í”Œë¦½ í˜ì´ì§€ (ì•: í‘œì§€ / ë’¤: ì™¼ìª½ í˜ì´ì§€) --- */
.flip-page {
    z-index: 10;
    transform-origin: left center; /* ì™¼ìª½ ë(ì œë³¸ì„ )ì„ ê¸°ì¤€ìœ¼ë¡œ íšŒì „ */
    transform-style: preserve-3d;  /* ì•ë’·ë©´ ì…ì²´ ìœ ì§€ */
    
    /* [í•µì‹¬] 1ì´ˆ ëŒ€ê¸° í›„ 1.5ì´ˆ ë™ì•ˆ í¼ì¹˜ê¸° */
    animation: openCover 1.8s cubic-bezier(0.25, 1, 0.5, 1) forwards;
    animation-delay: 1s; /* 1ì´ˆ ë™ì•ˆ ë‹«íŒ ìƒíƒœ ìœ ì§€ */
}

/* ì•ë©´/ë’·ë©´ ê³µí†µ */
.page-face {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    backface-visibility: hidden; /* ë’·ë©´ì´ ë³´ì¼ ë• ì•ë©´ ìˆ¨ê¹€ */
    border-radius: 5px 20px 20px 5px;
    overflow: hidden;
}

/* (1) ì•ë©´: ë‹«íŒ í‘œì§€ ë””ìì¸ (íŒŒë€ í…Œë‘ë¦¬ ìŠ¤íƒ€ì¼) */
.page-front {
    background-color: white;
    border: 3px solid #60a5fa; /* í‘œì§€ í…Œë‘ë¦¬ ìƒ‰ìƒ */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2;
}
/* í‘œì§€: ì±…ë“± íš¨ê³¼ (ì™¼ìª½ íŒŒë€ ë ) */
.cover-spine {
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 30px;
    background: linear-gradient(to right, #93c5fd, #bfdbfe);
    border-right: 2px solid #60a5fa;
}
.cover-title-box {
    text-align: center;
}
.cover-main-title {
    font-size: 50px; font-weight: 900; color: #111; margin-bottom: 10px;
    letter-spacing: -2px;
}
.cover-sub-title {
    font-size: 20px; color: #555; font-weight: bold;
}

/* (2) ë’·ë©´: í¼ì³¤ì„ ë•Œ ì™¼ìª½ í˜ì´ì§€ */
.page-back {
    background-color: white;
    transform: rotateY(180deg); /* ë’¤ì§‘í˜€ ìˆëŠ” ìƒíƒœ */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-right: 1px solid #eee; /* ì œë³¸ì„  */
}
/* ë’·ë©´ì´ í¼ì³ì§ˆ ë•Œ ì¢Œìš° ë°˜ì „ë˜ì§€ ì•Šë„ë¡ ë‚´ìš©ë¬¼ì€ ì •ìƒ ì²˜ë¦¬ ë¨ (rotateY 180 ì»¨í…Œì´ë„ˆ ë‚´ë¶€) */

/* [ì• ë‹ˆë©”ì´ì…˜ í‚¤í”„ë ˆì„] */
@keyframes openCover {
    0% { transform: rotateY(0deg); }   /* ë‹«í˜ */
    100% { transform: rotateY(-180deg); } /* í™œì§ ì—´ë¦¼ */
}

/* [ë²„íŠ¼ ë“±ì¥] ì±…ì´ ë‹¤ í¼ì³ì§„ í›„ ë‚˜íƒ€ë‚˜ê¸° */
.start-btn {
    position: absolute;
    bottom: -100px; /* ìœ„ì¹˜ ì¡°ì • */
    z-index: 50;
    opacity: 0; /* ì²˜ìŒì—” ì•ˆ ë³´ì„ */
    animation: fadeInBtn 0.5s ease-out forwards;
animation: 
        fadeAppear 0.5s ease-out 2.2s forwards,
        pulse-btn 1.5s infinite ease-in-out 2.2s;
}

/* 1. ì œìë¦¬ì—ì„œ ë‚˜íƒ€ë‚˜ê¸° (ìœ„ì¹˜ ì´ë™ X) */
@keyframes fadeAppear {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* 2. ë‘ê·¼ë‘ê·¼ ìŠ¤ì¼€ì¼ íš¨ê³¼ */
@keyframes pulse-btn {
    0% { transform: scale(1); }
    50% { transform: scale(1.08); } 
    100% { transform: scale(1); }
}

/* ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¸ì„ ë•Œ: ì• ë‹ˆë©”ì´ì…˜ ë©ˆì¶”ê³  ì‚´ì§ ì»¤ì§„ ìƒíƒœ ìœ ì§€ */
.start-btn:hover {
/* 1. ì• ë‹ˆë©”ì´ì…˜ì„ ë„ì§€ ì•Šê³  'ì¼ì‹œì •ì§€' ì‹œí‚µë‹ˆë‹¤. (ë¦¬ì…‹ ë°©ì§€) */
    animation-play-state: paused; 
    
    /* 2. ì¼ì‹œì •ì§€ëœ ì• ë‹ˆë©”ì´ì…˜ í¬ê¸°ë¥¼ ë¬´ì‹œí•˜ê³  1.1ë°°ë¡œ ê°•ì œ í™•ëŒ€ (!important í•„ìˆ˜) */
    transform: scale(1.1) !important; 
    
    /* 3. íˆ¬ëª…ë„ 1 ìœ ì§€ */
    opacity: 1 !important;
    
    cursor: pointer;
}

/* ê¸°ì¡´ ì¸íŠ¸ë¡œ ë°°ê²½ ìŠ¤íƒ€ì¼ ìœ ì§€ (í™”ì‚¬í•˜ê²Œ) */
.intro-bg {
background-image: url('imgs/intro_back.jpg'); 
    
    /* ë°°ê²½ ê½‰ ì±„ìš°ê¸° */
    background-size: cover; 
    background-position: center; 
    background-repeat: no-repeat; 
    
    /* ë ˆì´ì•„ì›ƒ ì„¤ì • (ìœ ì§€) */
    display: flex;
    flex-direction: column; 
    justify-content: center; 
    align-items: center; 
    position: absolute; top: 0; left: 0; height: 100%; width: 100%; 
    
    /* ì±…ì´ ì˜ë¦¬ì§€ ì•Šë„ë¡ ì„¤ì • (ìœ ì§€) */
    overflow: visible;
}


/* ==========================================================
   [ìˆ˜ì •ë¨] ì±… í˜ì´ì§€ êµ´ê³¡(Curvature) ë””í…Œì¼ ì„¤ì •
   ========================================================== */

/* 1. ì˜¤ë¥¸ìª½ í˜ì´ì§€: ì™¼ìª½ì€ í‰í‰(ì œë³¸ì„ ), ì˜¤ë¥¸ìª½ ëì€ ë‘¥ê¸€ê²Œ */
.right-page, 
.page-content.right-content {
    border-radius: 0 20px 20px 0 !important;
}

/* 2. ì™¼ìª½ í˜ì´ì§€ (í¼ì³ì§„ ë’·ë©´): ì™¼ìª½ ëì€ ë‘¥ê¸€ê²Œ, ì˜¤ë¥¸ìª½ì€ í‰í‰(ì œë³¸ì„ ) */
.page-back {
    border-radius: 20px 0 0 20px !important;
    border-right: 1px solid #eee; /* ì œë³¸ì„  ë””í…Œì¼ */
    border-left: none; /* ì™¼ìª½ ì„  ì œê±° */
}

/* 3. í‘œì§€ (ë‹«íŒ ì•ë©´): ì™¼ìª½ì€ í‰í‰(ì±…ë“±), ì˜¤ë¥¸ìª½ ëì€ ë‘¥ê¸€ê²Œ */
.page-front {
    border-radius: 0 20px 20px 0 !important;
}

/* (ì°¸ê³ ) ì±…ë“± ë¶€ë¶„ ë””í…Œì¼ ë³´ì • */
.cover-spine {
    border-radius: 2px 0 0 2px;
}

/* ==========================================================
   [ìˆ˜ì •ë¨] ì™¼ìª½ í˜ì´ì§€: ë°¤í•˜ëŠ˜ ë°°ê²½ ë””ìì¸
   ========================================================== */

/* 1. ì™¼ìª½ í˜ì´ì§€ ë°°ê²½ì„ 'ë°¤í•˜ëŠ˜ ê·¸ë¼ë°ì´ì…˜'ìœ¼ë¡œ ë³€ê²½ */
.page-back {
    /* ê¸°ì¡´ í°ìƒ‰ ë°°ê²½ ì œê±° ë° ê·¸ë¼ë°ì´ì…˜ ì ìš© */
    background-color: transparent !important;
    background-image: linear-gradient(to bottom, #2B3A65 0%, #4C6491 60%, #8DA6C9 100%) !important;
    
    /* (ì„ íƒ) ì¢…ì´ ì§ˆê°ì„ ì‚´ì§ ì¶”ê°€í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ */
     box-shadow: inset 10px 0 20px rgba(0,0,0,0.3) !important; 
}

/* 2. ì œëª© ê¸€ììƒ‰ì„ 'í°ìƒ‰'ìœ¼ë¡œ ë³€ê²½ (ì–´ë‘ìš´ ë°°ê²½ì´ë¼ ì˜ ë³´ì´ê²Œ) */
.page-back .intro-main-title {
    color: #ffffff !important;
    text-shadow: 0 2px 10px rgba(255, 255, 255, 0.3); /* ë‹¬ë¹›ì²˜ëŸ¼ ì€ì€í•œ íš¨ê³¼ */
}

/* 3. ë±ƒì§€ ë””ìì¸ ìˆ˜ì • (ë…¸ë€ìƒ‰ ë‹¬ë¹› ëŠë‚Œ ê°•ì¡°) */
.page-back .intro-badge {
    width: fit-content;  /* ê¸€ì í¬ê¸°ì— ë”± ë§ê²Œ ì¤„ì„ */
    align-self: center;  /* ë¶€ëª¨(Flex) ë‚´ì—ì„œ ì¤‘ì•™ ì •ë ¬ */
    margin-left: auto;   /* í™•ì‹¤í•œ ì¤‘ì•™ ì •ë ¬ ë³´ì¡° */
    margin-right: auto;
    background-color: #fcd34d !important; /* ë°ì€ ë‹¬ë¹› ë…¸ë‘ */
    color: #1e3a8a !important;            /* í…ìŠ¤íŠ¸ëŠ” ì§„í•œ ë‚¨ìƒ‰ */
    box-shadow: 0 0 15px rgba(252, 211, 77, 0.4) !important; /* ë¹›ë‚˜ëŠ” íš¨ê³¼ */
    border: 2px solid #ffffff;
}

/* 4. [ì¥ì‹] ë°¤í•˜ëŠ˜ì˜ ë³„ ì¶”ê°€ (ê°€ìƒ ìš”ì†Œ í™œìš©) */
.page-back::before {
    content: '';
    position: absolute;
    top: 10%; left: 20%;
    width: 2px; height: 2px;
    background: white;
    box-shadow: 
        100px 50px 0 white,
        -50px 150px 0 white,
        80px 250px 0 white,
        30px 400px 1px white,
        150px 300px 1px white; /* ë³„ë“¤ì„ ì ìœ¼ë¡œ ì°ìŒ */
    opacity: 0.6;
    animation: twinkle 3s infinite ease-in-out;
}

/* ë³„ ë°˜ì§ì´ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
@keyframes twinkle {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.8; }
}

/* [êµ¬ì¡°ë‘ Step 3] ì²´í¬ë°•ìŠ¤ ë¬¸ì¥ ìŠ¤íƒ€ì¼ */

.sentence-wrapper {
    display: flex;
    align-items: flex-start; /* ë¬¸ì¥ì´ ê¸¸ì–´ë„ ì²´í¬ë°•ìŠ¤ëŠ” ìœ„ìª½ì— ê³ ì • */
    gap: 15px;
    padding: 12px 15px;
    margin-bottom: 10px;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.2s;
    line-height: 1.6;
    border: 2px solid transparent; /* í…Œë‘ë¦¬ ê³µê°„ í™•ë³´ */
}

.sentence-wrapper:hover {
    background-color: #f3f4f6; /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ì—°í•œ íšŒìƒ‰ */
}

/* ì²´í¬ë°•ìŠ¤ ê¸°ë³¸ ëª¨ì–‘ (ë™ê·¸ë¼ë¯¸) */
.check-box {
    width: 24px;
    height: 24px;
    border: 2px solid #d1d5db;
    border-radius: 50%; /* ë„¤ëª¨ë¥¼ ì›í•˜ì‹œë©´ 6pxë¡œ ìˆ˜ì • */
    background: white;
    flex-shrink: 0; /* í¬ê¸° ì¤„ì–´ë“¦ ë°©ì§€ */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    font-weight: bold;
    margin-top: 4px; /* í…ìŠ¤íŠ¸ ì¤„ë†’ì´ì— ë§ì¶° ìœ„ì¹˜ ë³´ì • */
    transition: all 0.2s;
}

.sentence-text {
    flex: 1;
    font-size: 20px;
    color: #374151;
    font-weight: 500;
}

/* -------------------
   [ìƒíƒœë³„ ìŠ¤íƒ€ì¼]
-------------------- */

/* 1. ì •ë‹µ (ì´ˆë¡ìƒ‰) */
.sentence-wrapper.correct {
    background-color: #dcfce7; /* ì—°í•œ ì´ˆë¡ ë°°ê²½ */
    border-color: #22c55e;
}
.sentence-wrapper.correct .check-box {
    background-color: #16a34a;
    border-color: #16a34a;
    color: white;
}
/* ì •ë‹µ ì²´í¬ ì•„ì´ì½˜ (CSSë¡œ ì²˜ë¦¬) */
.sentence-wrapper.correct .check-box::after {
    content: "âœ”"; 
}
.sentence-wrapper.correct .sentence-text {
    color: #14532d;
    font-weight: bold;
}

/* 2. ì˜¤ë‹µ (ë¹¨ê°„ìƒ‰) */
.sentence-wrapper.wrong {
    background-color: #fee2e2; /* ì—°í•œ ë¹¨ê°• ë°°ê²½ */
    border-color: #ef4444;
    animation: shake 0.4s ease-in-out; /* í”ë“¤ë¦¼ íš¨ê³¼ */
}
.sentence-wrapper.wrong .check-box {
    background-color: #ef4444;
    border-color: #ef4444;
    color: white;
}
/* ì˜¤ë‹µ X ì•„ì´ì½˜ */
.sentence-wrapper.wrong .check-box::after {
    content: "âœ•"; 
}
.sentence-wrapper.wrong .sentence-text {
    color: #7f1d1d;
}

/* í”ë“¤ë¦¼ ì• ë‹ˆë©”ì´ì…˜ (ê¸°ì¡´ì— ì—†ìœ¼ë©´ ì¶”ê°€) */
@keyframes shake {
    0%, 100% { transform: translateX(0); }
    20% { transform: translateX(-5px); }
    40% { transform: translateX(5px); }
    60% { transform: translateX(-5px); }
    80% { transform: translateX(5px); }
}

/* ==========================================================
   [ì¶©ëŒ í•´ê²°] ì½ê¸°ë‘ í€´ì¦ˆ ì „ìš© ìŠ¤íƒ€ì¼ (ê²Œì„ì— ì˜í–¥ ì•ˆ ì¤Œ)
   ========================================================== */

/* ë¦¬ìŠ¤íŠ¸ ì»¨í…Œì´ë„ˆ ì •ë ¬ ì´ˆê¸°í™” */
#read-screen .option-list {
    display: flex;
    flex-direction: column;
    gap: 12px !important;
    width: 100% !important;
    margin: 0 !important;  /* ì—¬ë°± ì œê±° */
    padding: 0 !important; /* íŒ¨ë”© ì œê±° */
    align-items: stretch !important; /* ê°€ë¡œ ê½‰ ì±„ìš°ê¸° */
}

/* ì„ íƒì§€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¬ì •ì˜ */
#read-screen .option-item {
    /* 1. ê²Œì„ìš© ìŠ¤íƒ€ì¼(margin) ì´ˆê¸°í™” -> ì™¼ìª½ ì ë¦¼ í•´ê²° */
    margin: 0 !important; 
    
    /* 2. í¬ê¸° ë° ì •ë ¬ */
    width: 100% !important;
    font-size: 17px !important; 
    justify-content: flex-start !important; /* ë‚´ìš© ì™¼ìª½ ì •ë ¬ */
    text-align: left !important;
    padding: 12px 20px !important; 
    
    /* 3. ë””ìì¸(í…Œë‘ë¦¬, ìƒ‰ìƒ) */
    border: 2px solid #d1d5db !important;
    border-radius: 30px !important;
    background-color: white;
    color: #374151;
    font-weight: 500;
    cursor: pointer;
    
    /* 4. ë‚´ë¶€ ì•„ì´í…œ ë°°ì¹˜ */
    display: flex;
    align-items: center !important; 
    gap: 15px !important; 
    transform: none !important; /* ê²Œì„ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ ì œê±° */
}

/* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ íš¨ê³¼ */
#read-screen .option-item:hover {
    background-color: #f3f4f6;
    border-color: #9ca3af !important;
    transform: none !important; /* í¬ê¸° ì»¤ì§ ë°©ì§€ */
}

/* 1. ì–´íœ˜ë‘ (ë³´ë¼ìƒ‰ ê³„ì—´) */
#vocab-screen .instruction-banner {
    background-color: #9333ea; /* íƒ­ ë²„íŠ¼ ìƒ‰ìƒê³¼ ë™ì¼ */
    box-shadow: 0 4px 0 #7e22ce; /* ì…ì²´ê° ê·¸ë¦¼ì (ì„ íƒì‚¬í•­) */
}

/* 2. ì½ê¸°ë‘ (íŒŒë€ìƒ‰ ê³„ì—´) */
#read-screen .instruction-banner {
    background-color: #3b82f6;
    box-shadow: 0 4px 0 #2563eb;
}

/* 3. êµ¬ì¡°ë‘ (ë‚¨ìƒ‰ ê³„ì—´) */
/* êµ¬ì¡°ë‘ì€ ë³„ë„ì˜ ë°°ë„ˆ í´ë˜ìŠ¤ë¥¼ ì“°ê¸°ë„ í•˜ì§€ë§Œ, ê³µí†µ ë°°ë„ˆë¥¼ ë„£ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„ */
.structure-layout .instruction-banner, 
#structure-screen .instruction-banner {
    background-color: #4f46e5;
    box-shadow: 0 4px 0 #4338ca;
}

/* 4. ì“°ê¸°ë‘ (ìì£¼/í•‘í¬ ê³„ì—´) */
#write-screen .instruction-banner {
    background-color: #c026d3;
    box-shadow: 0 4px 0 #a21caf;
}

/* [ì¶”ê°€] ì›í˜• ë²„íŠ¼ ì•ˆì˜ ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
.circle-btn img {
    width: 40px;       /* ì•„ì´ì½˜ í¬ê¸° (ë²„íŠ¼ í¬ê¸°ì— ë§ì¶° ì¡°ì ˆ ê°€ëŠ¥) */
    height: 40px;
    object-fit: contain; /* ë¹„ìœ¨ ìœ ì§€ */
    pointer-events: none; /* ì´ë¯¸ì§€ ë“œë˜ê·¸ ë°©ì§€ */
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.1)); /* ì‚´ì§ ê·¸ë¦¼ì (ì„ íƒì‚¬í•­) */
}


/* [ì¶”ê°€] ì½ê¸°ë‘ í€´ì¦ˆ ì†ê°€ë½ ê°€ì´ë“œ */
#read-quiz-finger {
    position: absolute;
    width: 60px; /* ì†ê°€ë½ í¬ê¸° ì¡°ì ˆ */
    height: auto;
    z-index: 9999; /* ëª¨ë“  ìš”ì†Œë³´ë‹¤ ìœ„ì— í‘œì‹œ */
    display: none; /* í‰ì†Œì—ëŠ” ìˆ¨ê¹€ */
    pointer-events: none; /* í´ë¦­ ë°©í•´ ê¸ˆì§€ */
    filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3)); /* ê·¸ë¦¼ì */
    
    /* ì½•ì½• ì°Œë¥´ëŠ” ì• ë‹ˆë©”ì´ì…˜ */
    animation: quiz-finger-bounce 1s infinite ease-in-out;
}

@keyframes quiz-finger-bounce {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(10px, -10px); } /* ëŒ€ê°ì„ ìœ¼ë¡œ ì›€ì§ì„ */
}

